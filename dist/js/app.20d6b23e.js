(function(){"use strict";var e={3025:function(e,t,a){var o=a(5130),s=a(6768);const r={class:"App"};function l(e,t,a,l,n,i){const c=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(c,null,{default:(0,s.k6)(({Component:e})=>[(0,s.bF)(o.eB,{name:"fade",mode:"out-in"},{default:(0,s.k6)(()=>[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e)))]),_:2},1024)]),_:1})])}var n={name:"App"},i=a(1241);const c=(0,i.A)(n,[["render",l]]);var d=c,u=a(1387);function p(e,t,a,o,r,l){const n=(0,s.g2)("TodoList");return(0,s.uX)(),(0,s.Wv)(n)}a(4114),a(8111),a(2489);var m=a(4232),v=a(144),f=a(782);const g=(0,f.y$)({state:{user:null},mutations:{setUser(e,t){e.user=t},clearUser(e){e.user=null}},actions:{},getters:{user:e=>e.user}});var h=g,k=a(4373);const b="https://todo-app-server-eosin.vercel.app/api",y=k.A.create({baseURL:b,timeout:1e4});async function L(e){try{const t=await y.post("/users/register",e);return t.data.data||t.data}catch(t){throw t.response?.data||t}}async function w(e){try{const t=await y.post("/users/login",e);return t.data.data||t.data}catch(t){throw t.response?.data||t}}async function _(e){try{const t=await y.get("/todos",{params:{userId:e}});return t.data.data||t.data}catch(t){throw t.response?.data||t}}async function C(e,t){try{const a=await y.post("/todos",e,{params:{userId:t}});return a.data.data||a.data}catch(a){throw a.response?.data||a}}async function E(e){try{e.completed?e.completed_time=Date.now():e.completed_time=null;const t=await y.put(`/todos/${e._id}`,e);return t.data.data||t.data}catch(t){throw t.response?.data||t}}async function S(e){try{const t=await y.delete(`/todos/${e}`);return t.data.data||t.data}catch(t){throw t.response?.data||t}}async function D(e){try{const t=await y.delete("/todos/delete/all",{params:{userId:e}});return t.data.data||t.data}catch(t){throw t.response?.data||t}}y.interceptors.request.use(e=>{const t=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")).token:null;return t&&(e.headers["x-access-token"]=t,e.headers["Authorization"]=`Bearer ${t}`),e},e=>Promise.reject(e)),y.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("userData"),window.location.href="/login"),Promise.reject(e)));const W={class:"todo-container"},x={class:"todo-card"},T={class:"add-todo-section"},U={class:"input-group"},A=["disabled"],R={class:"todo-list-section"},P={key:0,class:"empty-state"},I={key:1,class:"todo-list"},O={class:"todo-content"},X={class:"todo-checkbox"},j=["checked","onChange","id"],F=["for"],J={class:"todo-actions"},K=["onClick"],N={key:0,class:"progress-section"},$={class:"progress-info"},V={class:"progress-text"},q={class:"progress-bar-container"};var M={__name:"TodoList",setup(e){const t=(0,v.KR)([]),a=(0,v.KR)(""),r=(0,s.EW)(()=>t.value.filter(e=>e.completed).length),l=(0,s.EW)(()=>0===t.value.length?0:Math.round(r.value/t.value.length*100));(0,s.sV)(()=>{const e=localStorage.getItem("userData");if(e)try{const t=JSON.parse(e);h.getters.user||(console.log("User state not populated, initializing it with data from local storage"),h.commit("setUser",t)),n(t._id)}catch(t){console.error("Error parsing user data:",t),Se.push({name:"Login"})}else Se.push({name:"Login"})});const n=async e=>{try{const a=await _(e);t.value=a}catch(a){console.error("Error fetching todos:",a),g("Failed to fetch todos. Please try again later.","error")}},i=async()=>{if(!a.value.trim())return;const e={task:a.value.trim(),completed:!1,created_at:Date.now(),completed_time:null};try{await C(e,h.getters.user._id),n(h.getters.user._id),a.value="",g("Todo added successfully! ðŸŽ‰","success")}catch(t){console.error("Error adding todo:",t),g("Failed to add todo. Please try again later.","error")}},c=e=>{"Enter"===e.key&&(e.preventDefault(),i())},d=async e=>{const a=t.value[e];a.completed=!a.completed;try{await E(a),g(a.completed?"Great job! Keep it up! ðŸŽ¯":"No worries, you'll get it next time! ðŸ’ª","success")}catch(o){console.error("Error updating todo:",o),g("Failed to update todo. Please try again later.","error"),a.completed=!a.completed}},u=async e=>{try{await S(t.value[e]._id),t.value.splice(e,1),g("Todo deleted successfully!","success")}catch(a){console.error("Error deleting todo:",a),g("Failed to delete todo. Please try again later.","error")}},p=async()=>{if(0!==t.value.length){if(confirm("Are you sure you want to delete all todos? This action cannot be undone."))try{await D(h.getters.user._id),t.value=[],g("All todos deleted successfully!","success")}catch(e){console.error("Error deleting todos:",e),g("Failed to delete todos. Please try again later.","error")}}else g("No todos to delete!","info")},f=()=>{localStorage.removeItem("userData"),h.commit("setUser",null),Se.push({name:"Login"}),g("Logged out successfully!","info")},g=(e,t="info")=>{const a=document.createElement("div");a.className=`notification notification-${t}`,a.textContent=e,document.body.appendChild(a),setTimeout(()=>{a.classList.add("show")},100),setTimeout(()=>{a.classList.remove("show"),setTimeout(()=>{document.body.removeChild(a)},300)},3e3)};return(e,n)=>((0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("div",x,[(0,s.Lk)("div",{class:"todo-header"},[n[3]||(n[3]=(0,s.Lk)("div",{class:"header-content"},[(0,s.Lk)("h1",{class:"todo-title"},[(0,s.Lk)("span",{class:"title-icon"},"ðŸ“"),(0,s.eW)(" My Todo List ")]),(0,s.Lk)("p",{class:"todo-subtitle"},"Stay organized and productive")],-1)),(0,s.Lk)("div",{class:"header-actions"},[(0,s.Lk)("button",{onClick:p,class:"btn btn-danger btn-sm action-btn",title:"Delete all todos"},n[1]||(n[1]=[(0,s.Lk)("i",{class:"fas fa-trash"},null,-1),(0,s.eW)(" Clear All ",-1)])),(0,s.Lk)("button",{onClick:f,class:"btn btn-warning btn-sm action-btn",title:"Logout"},n[2]||(n[2]=[(0,s.Lk)("i",{class:"fas fa-sign-out-alt"},null,-1),(0,s.eW)(" Logout ",-1)]))])]),(0,s.Lk)("div",T,[(0,s.Lk)("form",{onSubmit:(0,o.D$)(i,["prevent"]),class:"add-todo-form"},[(0,s.Lk)("div",U,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),onKeydown:(0,o.jR)(c,["enter"]),type:"text",class:"form-control todo-input",placeholder:"What needs to be done?",maxlength:"200"},null,544),[[o.Jo,a.value]]),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary add-btn",disabled:!a.value.trim()},n[4]||(n[4]=[(0,s.Lk)("i",{class:"fas fa-plus"},null,-1),(0,s.eW)(" Add ",-1)]),8,A)])],32)]),(0,s.Lk)("div",R,[0===t.value.length?((0,s.uX)(),(0,s.CE)("div",P,n[5]||(n[5]=[(0,s.Lk)("div",{class:"empty-icon"},"ðŸŽ¯",-1),(0,s.Lk)("h3",null,"No todos yet!",-1),(0,s.Lk)("p",null,"Start by adding your first todo above",-1)]))):((0,s.uX)(),(0,s.CE)("div",I,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.value,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:(0,m.C4)(["todo-item",{completed:e.completed}])},[(0,s.Lk)("div",O,[(0,s.Lk)("div",X,[(0,s.Lk)("input",{type:"checkbox",checked:e.completed,onChange:e=>d(t),class:"custom-checkbox",id:`todo-${t}`},null,40,j),(0,s.Lk)("label",{for:`todo-${t}`,class:"checkbox-label"},null,8,F)]),(0,s.Lk)("span",{class:(0,m.C4)(["todo-text",{"completed-text":e.completed}])},(0,m.v_)(e.task),3)]),(0,s.Lk)("div",J,[(0,s.Lk)("button",{onClick:e=>u(t),class:"btn btn-outline-danger btn-sm delete-btn",title:"Delete todo"},n[6]||(n[6]=[(0,s.Lk)("i",{class:"fas fa-trash"},null,-1)]),8,K)])],2))),128))]))]),t.value.length>0?((0,s.uX)(),(0,s.CE)("div",N,[(0,s.Lk)("div",$,[(0,s.Lk)("span",V,(0,m.v_)(r.value)+" of "+(0,m.v_)(t.value.length)+" completed ",1),(0,s.Lk)("div",q,[(0,s.Lk)("div",{class:"progress-bar",style:(0,m.Tr)({width:l.value+"%"})},null,4)])])])):(0,s.Q3)("",!0)])]))}};const z=(0,i.A)(M,[["__scopeId","data-v-7d770fde"]]);var B=z,G={name:"Dashboard",components:{TodoList:B}};const Q=(0,i.A)(G,[["render",p]]);var H=Q;const Y={class:"login-container"},Z={class:"login-card"},ee={class:"form-group"},te={class:"form-group"},ae=["disabled"],oe={key:0,class:"spinner"},se={key:1},re={class:"register-link"};var le={__name:"Login",setup(e){const t=(0,v.KR)(""),a=(0,v.KR)(""),r=(0,v.KR)(!1);(0,s.sV)(()=>{const e=localStorage.getItem("userData");if(e){const t=JSON.parse(e);h.commit("setUser",t),Se.push({name:"Dashboard"})}});const l=async()=>{if(!t.value||!a.value)return void i("Please fill in all fields","error");r.value=!0;const e={email:t.value,password:a.value};try{const t=await w(e),{token:a,email:o,picture:s,_id:r}=t,l={token:a,_id:r,email:o,pictureUrl:s};localStorage.setItem("userData",JSON.stringify(l)),h.commit("setUser",l),i("Welcome back! ðŸŽ‰","success"),setTimeout(()=>{Se.push({name:"Dashboard"})},1e3)}catch(o){console.error("Login failed:",o),i("Login failed. Please check your credentials.","error")}finally{r.value=!1}},n=()=>{l()},i=(e,t="info")=>{const a=document.createElement("div");a.className=`notification notification-${t}`,a.textContent=e,document.body.appendChild(a),setTimeout(()=>{a.classList.add("show")},100),setTimeout(()=>{a.classList.remove("show"),setTimeout(()=>{document.body.removeChild(a)},300)},3e3)};return(e,l)=>{const i=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("div",Z,[l[7]||(l[7]=(0,s.Fv)('<div class="login-header" data-v-2cdc539a><div class="logo-section" data-v-2cdc539a><div class="logo-icon" data-v-2cdc539a>ðŸŽ¯</div><h1 class="login-title" data-v-2cdc539a>Welcome Back</h1><p class="login-subtitle" data-v-2cdc539a>Sign in to continue your productivity journey</p></div></div>',1)),(0,s.Lk)("form",{onSubmit:(0,o.D$)(n,["prevent"]),class:"login-form"},[(0,s.Lk)("div",ee,[l[2]||(l[2]=(0,s.Lk)("label",{class:"form-label",for:"email"},[(0,s.Lk)("i",{class:"fas fa-envelope"}),(0,s.eW)(" Email Address ")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),class:"form-control",placeholder:"Enter your email",required:""},null,512),[[o.Jo,t.value]])]),(0,s.Lk)("div",te,[l[3]||(l[3]=(0,s.Lk)("label",{class:"form-label",for:"password"},[(0,s.Lk)("i",{class:"fas fa-lock"}),(0,s.eW)(" Password ")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":l[1]||(l[1]=e=>a.value=e),class:"form-control",placeholder:"Enter your password",required:""},null,512),[[o.Jo,a.value]])]),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary login-btn",disabled:r.value},[r.value?((0,s.uX)(),(0,s.CE)("span",oe)):((0,s.uX)(),(0,s.CE)("span",se,[l[4]||(l[4]=(0,s.Lk)("i",{class:"fas fa-sign-in-alt"},null,-1)),(0,s.eW)(" "+(0,m.v_)(r.value?"Signing In...":"Sign In"),1)]))],8,ae),(0,s.Lk)("div",re,[(0,s.Lk)("p",null,[l[6]||(l[6]=(0,s.eW)(" Don't have an account? ",-1)),(0,s.bF)(i,{to:{name:"Register"},class:"link-text"},{default:(0,s.k6)(()=>l[5]||(l[5]=[(0,s.eW)(" Create one here ",-1)])),_:1,__:[5]})])])],32)])])}}};const ne=(0,i.A)(le,[["__scopeId","data-v-2cdc539a"]]);var ie=ne;const ce={class:"register-container"},de={class:"register-card"},ue={class:"form-group"},pe={class:"name-group"},me={class:"form-group"},ve={class:"form-group"},fe={class:"form-group"},ge={class:"form-group"},he=["disabled"],ke={key:0,class:"spinner"},be={key:1},ye={class:"login-link"};var Le={__name:"Register",setup(e){const t=(0,v.KR)(""),a=(0,v.KR)(""),r=(0,v.KR)(""),l=(0,v.KR)(""),n=(0,v.KR)(""),i=(0,v.KR)(!1);(0,s.sV)(()=>{null!=h.getters.user&&Se.push({name:"Dashboard"})});const c=async()=>{if(!t.value||!a.value||!r.value||!l.value)return void u("Please fill in all required fields","error");i.value=!0;const e={email:t.value,password:a.value,first_name:r.value,last_name:l.value,picture:n.value};try{const t=await L(e),{token:a,email:o,picture:s,_id:r}=t,l={token:a,_id:r,email:o,pictureUrl:s};localStorage.setItem("userData",JSON.stringify(l)),h.commit("setUser",l),u("Account created successfully! Welcome aboard! ðŸŽ‰","success"),setTimeout(()=>{Se.push({name:"Dashboard"})},1e3)}catch(o){console.error("Registration failed:",o),u("Registration failed. Please try again.","error")}finally{i.value=!1}},d=()=>{c()},u=(e,t="info")=>{const a=document.createElement("div");a.className=`notification notification-${t}`,a.textContent=e,document.body.appendChild(a),setTimeout(()=>{a.classList.add("show")},100),setTimeout(()=>{a.classList.remove("show"),setTimeout(()=>{document.body.removeChild(a)},300)},3e3)};return(e,c)=>{const u=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",ce,[(0,s.Lk)("div",de,[c[13]||(c[13]=(0,s.Fv)('<div class="register-header" data-v-0950811d><div class="logo-section" data-v-0950811d><div class="logo-icon" data-v-0950811d>ðŸš€</div><h1 class="register-title" data-v-0950811d>Join Us</h1><p class="register-subtitle" data-v-0950811d>Create your account and start organizing your life</p></div></div>',1)),(0,s.Lk)("form",{onSubmit:(0,o.D$)(d,["prevent"]),class:"register-form"},[(0,s.Lk)("div",ue,[c[5]||(c[5]=(0,s.Lk)("label",{class:"form-label",for:"pictureUrl"},[(0,s.Lk)("i",{class:"fas fa-image"}),(0,s.eW)(" Profile Picture URL ")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"url",id:"pictureUrl","onUpdate:modelValue":c[0]||(c[0]=e=>n.value=e),class:"form-control",placeholder:"https://example.com/your-photo.jpg"},null,512),[[o.Jo,n.value]])]),(0,s.Lk)("div",pe,[(0,s.Lk)("div",me,[c[6]||(c[6]=(0,s.Lk)("label",{class:"form-label",for:"firstname"},[(0,s.Lk)("i",{class:"fas fa-user"}),(0,s.eW)(" First Name ")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"firstname","onUpdate:modelValue":c[1]||(c[1]=e=>r.value=e),class:"form-control",placeholder:"Enter your first name",required:""},null,512),[[o.Jo,r.value]])]),(0,s.Lk)("div",ve,[c[7]||(c[7]=(0,s.Lk)("label",{class:"form-label",for:"lastname"},[(0,s.Lk)("i",{class:"fas fa-user"}),(0,s.eW)(" Last Name ")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"lastname","onUpdate:modelValue":c[2]||(c[2]=e=>l.value=e),class:"form-control",placeholder:"Enter your last name",required:""},null,512),[[o.Jo,l.value]])])]),(0,s.Lk)("div",fe,[c[8]||(c[8]=(0,s.Lk)("label",{class:"form-label",for:"email"},[(0,s.Lk)("i",{class:"fas fa-envelope"}),(0,s.eW)(" Email Address ")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":c[3]||(c[3]=e=>t.value=e),class:"form-control",placeholder:"Enter your email",required:""},null,512),[[o.Jo,t.value]])]),(0,s.Lk)("div",ge,[c[9]||(c[9]=(0,s.Lk)("label",{class:"form-label",for:"password"},[(0,s.Lk)("i",{class:"fas fa-lock"}),(0,s.eW)(" Password ")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":c[4]||(c[4]=e=>a.value=e),class:"form-control",placeholder:"Create a strong password",required:""},null,512),[[o.Jo,a.value]])]),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary register-btn",disabled:i.value},[i.value?((0,s.uX)(),(0,s.CE)("span",ke)):((0,s.uX)(),(0,s.CE)("span",be,[c[10]||(c[10]=(0,s.Lk)("i",{class:"fas fa-user-plus"},null,-1)),(0,s.eW)(" "+(0,m.v_)(i.value?"Creating Account...":"Create Account"),1)]))],8,he),(0,s.Lk)("div",ye,[(0,s.Lk)("p",null,[c[12]||(c[12]=(0,s.eW)(" Already have an account? ",-1)),(0,s.bF)(u,{to:{name:"Login"},class:"link-text"},{default:(0,s.k6)(()=>c[11]||(c[11]=[(0,s.eW)(" Sign in here ",-1)])),_:1,__:[11]})])])],32)])])}}};const we=(0,i.A)(Le,[["__scopeId","data-v-0950811d"]]);var _e=we;const Ce=[{path:"/",name:"Dashboard",component:H},{path:"/login",name:"Login",component:ie},{path:"/register",name:"Register",component:_e}],Ee=(0,u.aE)({history:(0,u.LA)(),routes:Ce});Ee.beforeEach((e,t,a)=>{const o="Dashboard"===e.name,s=localStorage.getItem("userData");return o&&!s?a({name:"Login"}):"Login"!==e.name&&"Register"!==e.name||!s?a():a({name:"Dashboard"})});var Se=Ee;a(8077);(0,o.Ef)(d).use(h).use(Se).mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,r){if(!o){var l=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],r=e[d][2];for(var n=!0,i=0;i<o.length;i++)(!1&r||l>=r)&&Object.keys(a.O).every(function(e){return a.O[e](o[i])})?o.splice(i--,1):(n=!1,r<l&&(l=r));if(n){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,r,l=o[0],n=o[1],i=o[2],c=0;if(l.some(function(t){return 0!==e[t]})){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(i)var d=i(a)}for(t&&t(o);c<l.length;c++)r=l[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},o=self["webpackChunktodo_list"]=self["webpackChunktodo_list"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],function(){return a(3025)});o=a.O(o)})();
//# sourceMappingURL=app.20d6b23e.js.map