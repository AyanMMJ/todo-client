{"ast":null,"code":"// router/index.js\nimport { createRouter, createWebHistory } from 'vue-router';\nimport Dashboard from '@/pages/Dashboard.vue';\nimport Login from '@/pages/Login.vue';\nimport Register from '@/pages/Register.vue';\nconst routes = [{\n  path: '/',\n  name: 'Dashboard',\n  component: Dashboard\n}, {\n  path: '/login',\n  name: 'Login',\n  component: Login\n}, {\n  path: '/register',\n  name: 'Register',\n  component: Register\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\n// Global auth guard: protect Dashboard\nrouter.beforeEach((to, from, next) => {\n  const requiresAuth = to.name === 'Dashboard';\n  const userData = localStorage.getItem('userData');\n  if (requiresAuth && !userData) {\n    return next({\n      name: 'Login'\n    });\n  }\n  if ((to.name === 'Login' || to.name === 'Register') && userData) {\n    return next({\n      name: 'Dashboard'\n    });\n  }\n  return next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Dashboard","Login","Register","routes","path","name","component","router","history","beforeEach","to","from","next","requiresAuth","userData","localStorage","getItem"],"sources":["C:/Users/ayanm/Downloads/todo-app-mevn-main/todo-app-mevn-main/client/src/router/index.js"],"sourcesContent":["// router/index.js\nimport { createRouter, createWebHistory } from 'vue-router'\nimport Dashboard from '@/pages/Dashboard.vue'\nimport Login from '@/pages/Login.vue'\nimport Register from '@/pages/Register.vue'\n\nconst routes = [\n    {\n        path: '/',\n        name: 'Dashboard',\n        component: Dashboard\n    },\n    {\n        path: '/login',\n        name: 'Login',\n        component: Login\n    },\n    {\n        path: '/register',\n        name: 'Register',\n        component: Register\n    }\n]\n\nconst router = createRouter({ history: createWebHistory(), routes })\n\n// Global auth guard: protect Dashboard\nrouter.beforeEach((to, from, next) => {\n  const requiresAuth = to.name === 'Dashboard'\n  const userData = localStorage.getItem('userData')\n  if (requiresAuth && !userData) {\n    return next({ name: 'Login' })\n  }\n  if ((to.name === 'Login' || to.name === 'Register') && userData) {\n    return next({ name: 'Dashboard' })\n  }\n  return next()\n})\nexport default router\n"],"mappings":"AAAA;AACA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,OAAOC,KAAK,MAAM,mBAAmB;AACrC,OAAOC,QAAQ,MAAM,sBAAsB;AAE3C,MAAMC,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEN;AACf,CAAC,EACD;EACII,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEL;AACf,CAAC,EACD;EACIG,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEJ;AACf,CAAC,CACJ;AAED,MAAMK,MAAM,GAAGT,YAAY,CAAC;EAAEU,OAAO,EAAET,gBAAgB,CAAC,CAAC;EAAEI;AAAO,CAAC,CAAC;;AAEpE;AACAI,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,YAAY,GAAGH,EAAE,CAACL,IAAI,KAAK,WAAW;EAC5C,MAAMS,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EACjD,IAAIH,YAAY,IAAI,CAACC,QAAQ,EAAE;IAC7B,OAAOF,IAAI,CAAC;MAAEP,IAAI,EAAE;IAAQ,CAAC,CAAC;EAChC;EACA,IAAI,CAACK,EAAE,CAACL,IAAI,KAAK,OAAO,IAAIK,EAAE,CAACL,IAAI,KAAK,UAAU,KAAKS,QAAQ,EAAE;IAC/D,OAAOF,IAAI,CAAC;MAAEP,IAAI,EAAE;IAAY,CAAC,CAAC;EACpC;EACA,OAAOO,IAAI,CAAC,CAAC;AACf,CAAC,CAAC;AACF,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}